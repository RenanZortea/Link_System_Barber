"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e,t=require("react");function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,void 0);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,void 0):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}!function(e){e.X="x",e.Y="y"}(e||(e={}));var o=function(t){return{leftTop:e.X===t?"left":"top",offsetLeftTop:e.X===t?"offsetLeft":"offsetTop",offsetWidthHeight:e.X===t?"offsetWidth":"offsetHeight",scrollLeftTop:e.X===t?"scrollLeft":"scrollTop",scrollWidthHeight:e.X===t?"scrollWidth":"scrollHeight",clientWidthHeight:e.X===t?"clientWidth":"clientHeight"}};function i(e,t){var r;return void 0===t&&(t=100),function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];var c=this;r&&clearTimeout(r),r=setTimeout((function(){e.apply(c,o)}),t)}}var c=function(e){return!e.parentElement||!e.parentElement.parentElement},u=function(r){var u=r.ref,l=r.speed,f=void 0===l?100:l,s=r.direction,a=r.threshold,d=void 0===a?1:a,v=o(void 0===s?e.Y:s),p=t.useState(!0),h=p[0],m=p[1],g=t.useState(!0),b=g[0],y=g[1],T=t.useState(0),L=T[0],S=T[1],w=function(){var e=u.current;return!!e&&0===e[v.scrollLeftTop]},E=function(){var e=u.current;return!!e&&Math.abs(e[v.scrollLeftTop]+e[v.clientWidthHeight]-e[v.scrollWidthHeight])<d},M=i((function(){u.current&&S(u.current[v.clientWidthHeight])})),W=i((function(e){w()?m(!0):m(!1),E()?y(!0):y(!1)})),A=function(e,t){if(u&&u.current){var r=u.current;if(r){e||"number"==typeof e||console.warn("Please pass a valid property for `scrollTo()`! \n Get more info at https://github.com/ron0115/react-smooth-scroll-hook");var n=r[v.scrollLeftTop],o=function(e,t,r){if("number"==typeof e)return e;if("string"==typeof e){var n=document.querySelector(e);return n?c(t)?n.getBoundingClientRect()[r.leftTop]:n.getBoundingClientRect()[r.leftTop]-t.getBoundingClientRect()[r.leftTop]:(console.warn("Please pass correct selector string for scrollTo()!"),0)}return 0}(e,r,v);"number"==typeof t&&(o+=t);var i=f;requestAnimationFrame((function e(){if(W(),0!==o&&!(E()&&o>9||o<0&&w())){var t=function(){return Math.abs(r[v.scrollLeftTop]-n)};Math.abs(o)-t()<i&&(i=Math.abs(o)-t()),r[v.scrollLeftTop]+=i*(o>0?1:-1),Math.abs(t()-Math.abs(o))<d||requestAnimationFrame(e)}}))}}else console.warn("Please pass `ref` property for your scroll container! \n Get more info at https://github.com/ron0115/react-smooth-scroll-hook")};return t.useEffect((function(){if(u.current){W(),M();var e=new MutationObserver((function(e,t){for(var r,o=n(e);!(r=o()).done;){var i=r.value;"attributes"===i.type&&i.target instanceof Element&&M()}}));return e.observe(u.current,{attributes:!0}),window.addEventListener("resize",M),function(){e.disconnect(),window.removeEventListener("resize",M)}}}),[u,W,M]),t.useEffect((function(){if(u.current){var e=u.current,t=new MutationObserver((function(e,t){for(var r,o=n(e);!(r=o()).done;){var i=r.value;"childList"===i.type&&i.target instanceof Element&&W()}}));return t.observe(e,{childList:!0,subtree:!0}),e.addEventListener("scroll",W),function(){t.disconnect(),e&&e.removeEventListener("scroll",W)}}}),[u,W]),{reachedTop:h,reachedBottom:b,containerSize:L,scrollTo:A,scrollToPage:function(e){A(e*L)},refreshState:W,refreshSize:M}};exports.default=u,exports.useScrollWatch=function(e){var r=e.ref,n=e.list,u=void 0===n?[]:n,l=e.offset,f=e.direction,s=o(void 0===f?"y":f),a=function(){var e=r.current;return e?e[s.scrollLeftTop]:0},d=t.useState(a()||0),v=d[0],p=d[1],h=i((function(){p(a()),b(u.map((function(e){var t=r.current,n="number"==typeof e.offset?e.offset:l||0,o=document.querySelector(e.href);return o&&t?c(t)?o.getBoundingClientRect()[s.leftTop]-t.getBoundingClientRect()[s.leftTop]+n:o.getBoundingClientRect()[s.leftTop]-t.children[0].getBoundingClientRect()[s.leftTop]+n:Infinity})))}),100),m=t.useState([]),g=m[0],b=m[1];t.useEffect((function(){h()}),[r,h]);var y=function(e,t){var r=t.length;if(!r)return-1;for(var n=0;n<r;n++)if(e<t[n])return n-1;return e>=t[r-1]?t.length-1:-1}(v,g);return t.useEffect((function(){if(r.current){var e=c(r.current)?window:r.current,t=new window.MutationObserver(h);return t.observe(r.current,{childList:!0,subtree:!0}),e.addEventListener("scroll",h),function(){t.disconnect(),e&&e.removeEventListener("scroll",h)}}}),[r,h]),{curIndex:y,scrollTop:v,curItem:u[y]||{}}},exports.useSmoothScroll=u;
//# sourceMappingURL=react-smooth-scroll-hook.cjs.production.min.js.map
